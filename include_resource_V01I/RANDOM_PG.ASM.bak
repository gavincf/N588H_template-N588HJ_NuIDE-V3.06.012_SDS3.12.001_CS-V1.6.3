

.IF ( C_RANDOM0_EN .EQ. 1)
;IN: REG_EA
BK0_GET_RANDOM0:
	LDA	<REG_EA
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM0
	
BK0_GET_RANDOM0_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM0_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	RTS
.ENDIF

.IF ( C_RANDOM1_EN .EQ. 1)
;IN: REG_EA
BK0_GET_RANDOM1:
	LDA	<REG_EA
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM1
	
BK0_GET_RANDOM1_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM1_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	RTS
.ENDIF
	
.IF ( RANDOM0_0_BK_EN .EQ. 1 )
;IN: A
;out:REG_EA
BK0_GET_RANDOM0_0_DIF: ;
	PHA; 1
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM0
	
BK0_GET_RANDOM0_0_DIF_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM0_0_DIF_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	LDA	<REG_EA
	CMP	<RANDOM0_0_BK
	BNE	BK0_GET_RANDOM0_0_DIF_S20
	INC	<REG_EA
	
	PLA; 1
	
	CMP	<REG_EA
	BNE	BK0_GET_RANDOM0_0_DIF_S11
	
	STZ	<REG_EA
	LDA	<REG_EA

BK0_GET_RANDOM0_0_DIF_S11:
	STA	<RANDOM0_0_BK ; STORE
	RTS
	
BK0_GET_RANDOM0_0_DIF_S20:
	STA	<RANDOM0_0_BK
	PLA ;1
	
	RTS	
.ENDIF

.IF ( RANDOM0_1_BK_EN .EQ. 1 )
;IN: A
;out:REG_EA
BK0_GET_RANDOM0_1_DIF: ;
	PHA; 1
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM0
	
BK0_GET_RANDOM0_1_DIF_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM0_1_DIF_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	LDA	<REG_EA
	CMP	<RANDOM0_1_BK
	BNE	BK0_GET_RANDOM0_1_DIF_S20
	INC	<REG_EA
	
	PLA; 1
	
	CMP	<REG_EA
	BNE	BK0_GET_RANDOM0_1_DIF_S11
	
	STZ	<REG_EA
	LDA	<REG_EA

BK0_GET_RANDOM0_1_DIF_S11:
	STA	<RANDOM0_1_BK ; STORE
	RTS
	
BK0_GET_RANDOM0_1_DIF_S20:
	STA	<RANDOM0_1_BK
	PLA ;1
	
	RTS	
.ENDIF




.IF ( RANDOM0_2_BK_EN .EQ. 1 )
;IN: A
;USED: REG_EA
;out:REG_EA
BK0_GET_RANDOM0_2_DIF: ;
	PHA; 1
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM0
	
BK0_GET_RANDOM0_2_DIF_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM0_2_DIF_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	LDA	<REG_EA
	CMP	<RANDOM0_2_BK
	BNE	BK0_GET_RANDOM0_2_DIF_S20
	INC	<REG_EA
	
	PLA; 1
	
	CMP	<REG_EA
	BNE	BK0_GET_RANDOM0_2_DIF_S11
	
	STZ	<REG_EA
	LDA	<REG_EA

BK0_GET_RANDOM0_2_DIF_S11:
	STA	<RANDOM0_2_BK ; STORE
	RTS
	
BK0_GET_RANDOM0_2_DIF_S20:
	STA	<RANDOM0_2_BK
	PLA ;1
	
	RTS	
.ENDIF

.IF ( RANDOM0_3_BK_EN .EQ. 1 )
;IN: A
;USED: REG_EA
;out:REG_EA
BK0_GET_RANDOM0_3_DIF: ;
	PHA; 1
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM0
	
BK0_GET_RANDOM0_3_DIF_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM0_3_DIF_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	LDA	<REG_EA
	CMP	<RANDOM0_3_BK
	BNE	BK0_GET_RANDOM0_3_DIF_S20
	INC	<REG_EA
	
	PLA; 1
	
	CMP	<REG_EA
	BNE	BK0_GET_RANDOM0_3_DIF_S11
	
	STZ	<REG_EA
	LDA	<REG_EA

BK0_GET_RANDOM0_3_DIF_S11:
	STA	<RANDOM0_3_BK ; STORE
	RTS
	
BK0_GET_RANDOM0_3_DIF_S20:
	STA	<RANDOM0_3_BK
	PLA ;1
	
	RTS	
.ENDIF

.IF ( RANDOM1_0_BK_EN .EQ. 1 )
;IN: A
;out:REG_EA
BK0_GET_RANDOM1_0_DIF: ;
	PHA; 1
	EOR	#0FFH
	INC	A
	STA	<REG_EA
;
	LDA	<RANDOM1
	
BK0_GET_RANDOM1_0_DIF_S10:
	CLC
	ADC	<REG_EA
	BCS	BK0_GET_RANDOM1_0_DIF_S10
;
	SEC
	SBC	<REG_EA
	STA	<REG_EA
;
	LDA	<REG_EA
	CMP	<RANDOM1_0_BK
	BNE	BK0_GET_RANDOM1_0_DIF_S20
	INC	<REG_EA
	
	PLA; 1
	
	CMP	<REG_EA
	BNE	BK0_GET_RANDOM1_0_DIF_S11
	
	STZ	<REG_EA
	LDA	<REG_EA

BK0_GET_RANDOM1_0_DIF_S11:
	STA	<RANDOM1_0_BK ; STORE
	RTS
	
BK0_GET_RANDOM1_0_DIF_S20:
	STA	<RANDOM1_0_BK
	PLA ;1
	
	RTS	
.ENDIF
