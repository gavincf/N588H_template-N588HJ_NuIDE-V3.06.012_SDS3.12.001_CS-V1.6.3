
;========================== PWM =================
;===================== macro =====================

PWM0_ENABLE	MACRO
	LDA	#C_BIT0
	TSB	PWM_FLAG
	ENDM
PWM0_DISABLE	MACRO
	LDA	#C_BIT0
	TRB	PWM_FLAG
	ENDM
PWM1_ENABLE	MACRO
	LDA	#C_BIT1
	TSB	PWM_FLAG
	ENDM
PWM1_DISABLE	MACRO
	LDA	#C_BIT1
	TRB	PWM_FLAG
	ENDM
PWM2_ENABLE	MACRO
	LDA	#C_BIT2
	TSB	PWM_FLAG
	ENDM
PWM2_DISABLE	MACRO
	LDA	#C_BIT2
	TRB	PWM_FLAG
	ENDM
PWM3_ENABLE	MACRO
	LDA	#C_BIT3
	TSB	PWM_FLAG
	ENDM
PWM3_DISABLE	MACRO
	LDA	#C_BIT3
	TRB	PWM_FLAG
	ENDM
PWM4_ENABLE	MACRO
	LDA	#C_BIT4
	TSB	PWM_FLAG
	ENDM
PWM4_DISABLE	MACRO
	LDA	#C_BIT4
	TRB	PWM_FLAG
	ENDM



PWM0_DET_EN	MACRO
	LDA	#C_BIT0
	BIT	PWM_FLAG
	ENDM
PWM1_DET_EN	MACRO
	LDA	#C_BIT1
	BIT	PWM_FLAG
	ENDM
PWM2_DET_EN	MACRO
	LDA	#C_BIT2
	BIT	PWM_FLAG
	ENDM
PWM3_DET_EN	MACRO
	LDA	#C_BIT3
	BIT	PWM_FLAG
	ENDM
PWM4_DET_EN	MACRO
	LDA	#C_BIT4
	BIT	PWM_FLAG
	ENDM

M_PWM0_ON	MACRO
	LDA	#C_BIT0
	TRB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM0_OFF	MACRO
	LDA	#C_BIT0
	TSB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM1_ON	MACRO
	LDA	#C_BIT1
	TRB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM1_OFF	MACRO
	LDA	#C_BIT1
	TSB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM2_ON	MACRO
	LDA	#C_BIT2
	TRB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM2_OFF	MACRO
	LDA	#C_BIT2
	TSB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM3_ON	MACRO
	LDA	#C_BIT3
	TRB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM3_OFF	MACRO
	LDA	#C_BIT3
	TSB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM

M_PWM4_ON	MACRO
	LDA	#C_BIT4
	TRB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM
M_PWM4_OFF	MACRO
	LDA	#C_BIT4
	TSB	R_BP0
	LDA	R_BP0
	STA	BP0
	ENDM

M_PWM0LED_ON_WO_PWM	MACRO
	PWM0_DISABLE
	M_PWM0_ON
	ENDM
M_PWM1LED_ON_WO_PWM	MACRO
	PWM1_DISABLE
	M_PWM1_ON
	ENDM
M_PWM2LED_ON_WO_PWM	MACRO
	PWM2_DISABLE
	M_PWM2_ON
	ENDM
M_PWM3LED_ON_WO_PWM	MACRO
	PWM3_DISABLE
	M_PWM3_ON
	ENDM
M_PWM4LED_ON_WO_PWM	MACRO
	PWM4_DISABLE
	M_PWM4_ON
	ENDM
	
	
M_PWM0_SET_CHKEND	MACRO
	LDA	#C_BIT0
	TRB	PWM_FLAG1
	TSB	PWM_FLAG2
	ENDM
M_PWM1_SET_CHKEND	MACRO
	LDA	#C_BIT1
	TRB	PWM_FLAG1
	TSB	PWM_FLAG2
	ENDM
M_PWM2_SET_CHKEND	MACRO
	LDA	#C_BIT2
	TRB	PWM_FLAG1
	TSB	PWM_FLAG2
	ENDM
M_PWM3_SET_CHKEND	MACRO
	LDA	#C_BIT3
	TRB	PWM_FLAG1
	TSB	PWM_FLAG2
	ENDM
M_PWM4_SET_CHKEND	MACRO
	LDA	#C_BIT4
	TRB	PWM_FLAG1
	TSB	PWM_FLAG2
	ENDM
	
M_PWM0_CLR_CHKEND	MACRO
	LDA	#C_BIT0
	TRB	PWM_FLAG1
	TRB	PWM_FLAG2
	ENDM
M_PWM1_CLR_CHKEND	MACRO
	LDA	#C_BIT1
	TRB	PWM_FLAG1
	TRB	PWM_FLAG2
	ENDM
M_PWM2_CLR_CHKEND	MACRO
	LDA	#C_BIT2
	TRB	PWM_FLAG1
	TRB	PWM_FLAG2
	ENDM
M_PWM3_CLR_CHKEND	MACRO
	LDA	#C_BIT3
	TRB	PWM_FLAG1
	TRB	PWM_FLAG2
	ENDM
M_PWM4_CLR_CHKEND	MACRO
	LDA	#C_BIT4
	TRB	PWM_FLAG1
	TRB	PWM_FLAG2
	ENDM

M_PWMPATT_SET_CHKEND	MACRO
	LDA	#C_BIT7
	TSB	PWM_FLAG2
	TRB	PWM_FLAG1
	ENDM
M_PWMPATT_CLR_CHKEND	MACRO
	LDA	#C_BIT7
	TRB	PWM_FLAG2
	TRB	PWM_FLAG1
	ENDM
MR_DET_CHK_PWMPATT MACRO
	LDA	#C_BIT7
	BIT	PWM_FLAG2
	ENDM

	
MR_START_PWMX_TM MACRO

	JSR	BK0_START_TMG0_05MS
;	MR_SET_TM1_05MS
	
	ENDM
MR_STOP_PWMX_TM MACRO
; TMG0: 0.5MS
	JSR	BK0_STOP_TMG0

	ENDM




;============================================
;--------------- LED PATT  -------------------
;=============================================





