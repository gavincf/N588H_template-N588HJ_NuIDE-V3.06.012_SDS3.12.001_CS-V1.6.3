

PCC_WAKEUP_ANYKEY_CHKSKEY EQU C_TRUE
.IF(PCC_WAKEUP_ANYKEY_CHKSKEY.EQ.C_FALSE)
	LDA	#1 ; ASSUME TUMMY KEY HOLD	
	STA	<R_CHK1KEY_PREPRESS
	JSR	BK0_CHK1KEY_HOLD
.ENDIF;PCC_WAKEUP_ANYKEY_CHKSKEY




.IF (C_CHK1KEY_EN1 .EQ. 1) .OR. (C_CHK1KEY_EN2 .EQ. 1)
;============================
;只有一个键有效
;============================
;扫描WIPER
;因为全部PIN状态都用来做位置检测，没有空键
;--------------------------------------

SCAN_LINE1:
	;LDA	BP1
	;BIT	#11111B
	;BEQ	SCAN_LINE1_S200
	;LDA	#1
	LDA	BP1
	AND	#11111B
	STA	R_CHK1KEY_PRESS
	
	RTS
SCAN_LINE1_S200:

	RTS

;==================================
CHK1KEY_SHORT_F:; wiper
	LDA	<R_CHK1KEY_PREPRESS
	STA	WB_KEYCH_CODE

	MACRO_SET_KEYCH0
	RTS


CHK1KEY_LONG_F:
	;LDA	<R_CHK1KEY_PREPRESS
	;ORA	#C_KEY_HOLD
	;STA	WB_KEYCH_CODE
	;MACRO_SET_KEYCH0
	
	RTS
	
CHK1KEY_SHORT_R:

;	LDA	<R_CHK1KEY_PREPRESS
;	STA	WB_KEYCH_CODE
;	
;	MACRO_SET_KEYCH0
	
	JMP	CHK1KEY_SHORT_R_RET
CHK1KEY_LONG_R:
	
	JMP	CHK1KEY_LONG_R_RET
	
.ENDIF




